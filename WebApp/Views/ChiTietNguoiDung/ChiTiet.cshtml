@using Models
@model Models.tbl_UserModel
@{
    ViewBag.Title = "ChiTiet";
    Layout = "~/Views/Shared/_LayoutView.cshtml";
}
<style>
    .ChiTietNguoiDung-header {
        display: flex;
        text-align: center;
        padding: 24px 0;
        border-bottom: 2px solid #ccc;
    }

        .ChiTietNguoiDung-header h2 {
            margin: auto 0;
            width: 100%;
        }

    .ChiTietNguoiDung-content {
        padding: 30px 0;
    }

    .ChiTietNguoiDung-btn {
        margin: 15px 0;
    }

    .ChiTietNguoiDung-item {
        margin: 10px 0;
    }

    .ChiTietNguoiDung-capnhat {
        display: flex;
        justify-content: end;
        padding: 4px 20px;
        border: 1px solid #ccc;
        outline: none;
    }

    .ChiTietNguoiDung-giohang {
        margin: 12px 0;
        font-size: 20px;
    }
</style>
<div class="ChiTietNguoiDung">
    <div class="ChiTietNguoiDung-header">
        <h2>Xin chào :&nbsp; @Model.FullName </h2>
    </div>
    <div class="ChiTietNguoiDung-content col-xl-8" style="margin: auto;">
        <a href="" class="ChiTietNguoiDung-giohang"> <i class="fa-solid fa-cart-shopping"></i> &nabla; Lịch sử mua hàng</a>
        <form id="form-data" class="row">
            <input type="hidden" name="ID" value="@Model.ID" />
            <input type="hidden" name="TypeUser" value="2" />

            <div class="ChiTietNguoiDung-item col-xl-6">
                <label>Tên:</label>
                <input type="text" class="form-control" name="FullName" value="@Model.FullName" />
            </div>
            <div class="ChiTietNguoiDung-item col-xl-6">
                <label>Tài khoản:</label>
                <input type="text" class="form-control" name="UserName" value="@Model.UserName" />
            </div>
            <div class="ChiTietNguoiDung-item col-xl-6">
                <label>Mật khẩu:</label>
                <input type="password" class="form-control" name="PassWord" value="@Model.Password" />
            </div>
            <div class="ChiTietNguoiDung-item col-xl-6">
                <label>Email:</label>
                <input type="email" class="form-control" name="Email" value="@Model.Email" />
            </div>
            <div class="ChiTietNguoiDung-item col-xl-6">
                <label>Số điện thoại:</label>
                <input type="text" class="form-control" name="Phone" value="@Model.Phone" />
            </div>
            <div class="ChiTietNguoiDung-item col-xl-6">
                <label>Địa Chỉ:</label>
                <input type="text" class="form-control" name="Địa Chỉ" value="@Model.Address" />
            </div>
            @*<div class="ChiTietNguoiDung-item col-xl-6">
                <label>Địa chỉ:</label>
                <input type="text" class="form-control" name="Address" value="@Model.Address" />
            </div>*@
        </form>
        <div class="d-flex">
            <div class="ChiTietNguoiDung-btn" style="margin-right:30px">
                <button type="button" class="ChiTietNguoiDung-capnhat" onclick="btnSave_Onclick();">Cập nhật</button>
            </div>
            <div class="ChiTietNguoiDung-btn ">
                <a href="@Url.Action("Index","DatHang" , new {Id =  Model.ID })">Xem Đơn Hàng Của Bạn</a>

            </div>
        </div>
    </div>
@section scripts {
    <script>
        

        function btnSave_Onclick() {
            var data = new FormData($('#form-data')[0]);
            $.ajax({
                url: '/LogIn/CapNhat',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                cache: false,
                type: "post",
                data: data,
                success: function (res) {
                    if (res.type == "success") {
                        alert("Cập nhật thành công");
                    }

                },
                error: function (errorThrown) {
                    alert("Cập nhật thất bại!");
                }
            });
        }
    </script>
}

